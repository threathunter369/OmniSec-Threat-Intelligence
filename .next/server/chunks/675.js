"use strict";exports.id=675,exports.ids=[675],exports.modules={5675:(e,s,o)=>{o.a(e,async(e,i)=>{try{o.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var a=o(997),r=o(2210),t=o(6689),n=o(1163),l=o(7179),d=o(1872),u=o(340),c=e([r,l,u]);[r,l,u]=c.then?(await c)():c;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,t.useState)(""),[o,i]=(0,t.useState)(""),[c,g]=(0,t.useState)(!1),{signIn:h,signInWithGoogle:m}=(0,l.a)(),b=(0,n.useRouter)(),p=(0,r.useToast)(),handleSubmit=async s=>{s.preventDefault(),g(!0);try{if(!e||!o)throw Error("Please enter both email and password");console.log("SignInForm: Attempting login with email:",e);let s=await h(e,o);if(!s.user)throw Error("No user data received");if(!s.user.emailVerified){p({title:"Email not verified",description:"Please check your email for verification link",status:"warning",duration:5e3,isClosable:!0});return}console.log("SignInForm: Login successful, user:",s.user.email),p({title:"Success!",description:"You have been successfully signed in.",status:"success",duration:5e3,isClosable:!0}),b.push("/dashboard")}catch(s){console.error("SignInForm: Login error:",s);let e="Failed to sign in";if(s.code)switch(s.code){case"auth/invalid-email":e="Invalid email address";break;case"auth/user-disabled":e="This account has been disabled";break;case"auth/user-not-found":e="No account found with this email";break;case"auth/wrong-password":e="Incorrect password";break;case"auth/too-many-requests":e="Too many failed attempts. Please try again later";break;case"auth/operation-not-allowed":e="This sign-in method is not enabled. Please contact support.";break;default:e=s.message||"Failed to sign in"}p({title:"Error",description:e,status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}},handleGoogleSignIn=async()=>{g(!0);try{console.log("SignInForm: Attempting Google sign in");let e=await m();console.log("SignInForm: Google sign in successful, user:",e.user.email),p({title:"Success!",description:"You have been successfully signed in with Google.",status:"success",duration:5e3,isClosable:!0}),b.push("/dashboard")}catch(s){console.error("SignInForm: Google sign in error:",s);let e=s.message||"Failed to sign in with Google";"auth/operation-not-allowed"===s.code&&(e="Google sign-in is not enabled. Please contact support."),p({title:"Error",description:e,status:"error",duration:5e3,isClosable:!0})}finally{g(!1)}},w=(0,r.useColorModeValue)("white","gray.700"),x=(0,r.useColorModeValue)("gray.200","gray.600");return a.jsx(r.Box,{as:"form",onSubmit:handleSubmit,width:"100%",maxW:"400px",bg:w,p:8,borderRadius:"lg",boxShadow:"lg",border:"1px solid",borderColor:x,children:(0,a.jsxs)(r.VStack,{spacing:6,children:[a.jsx(r.Button,{leftIcon:a.jsx(d.JM8,{}),w:"100%",onClick:handleGoogleSignIn,isLoading:c,mb:4,variant:"outline",_hover:{bg:"gray.50"},isDisabled:c,children:"Sign in with Google"}),a.jsx(r.Divider,{}),(0,a.jsxs)(r.Stack,{spacing:4,width:"100%",children:[(0,a.jsxs)(r.FormControl,{id:"email",isRequired:!0,children:[a.jsx(r.FormLabel,{children:"Email address"}),a.jsx(r.Input,{type:"email",value:e,onChange:e=>s(e.target.value),placeholder:"Enter your email",isDisabled:c})]}),(0,a.jsxs)(r.FormControl,{id:"password",isRequired:!0,children:[a.jsx(r.FormLabel,{children:"Password"}),a.jsx(r.Input,{type:"password",value:o,onChange:e=>i(e.target.value),placeholder:"Enter your password",isDisabled:c})]}),a.jsx(r.Button,{type:"submit",colorScheme:"blue",width:"100%",isLoading:c,isDisabled:c,children:"Sign In"})]}),(0,a.jsxs)(r.Text,{fontSize:"sm",color:"gray.500",textAlign:"center",children:["Don't have an account?"," ",a.jsx(u.Z,{href:"/signup",color:"blue.400",children:"Sign up"})]}),a.jsx(u.Z,{href:"/forgot-password",color:"blue.400",children:"Forgot Password?"})]})})};i()}catch(e){i(e)}})}};