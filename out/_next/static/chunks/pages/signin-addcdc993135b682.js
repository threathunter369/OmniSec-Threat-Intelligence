(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{4758:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return i(2191)}])},2941:function(e,r,i){"use strict";var t=i(5893),s=i(7294),n=i(1163),a=i(7179),o=i(5715),l=i(8899);r.Z=e=>{let{children:r}=e,{user:i,loading:d}=(0,a.a)(),c=(0,n.useRouter)();return((0,s.useEffect)(()=>{!d&&i&&(console.log("PublicRoute: Redirecting authenticated user to dashboard"),c.replace("/dashboard"))},[i,d,c]),d)?(0,t.jsx)(o.M,{h:"100vh",children:(0,t.jsx)(l.$,{size:"xl",color:"blue.500",thickness:"4px",speed:"0.65s"})}):i?null:(0,t.jsx)(t.Fragment,{children:r})}},5675:function(e,r,i){"use strict";var t=i(5893),s=i(6596),n=i(1046),a=i(8029),o=i(8186),l=i(8491),d=i(4831),c=i(3712),u=i(4506),h=i(980),m=i(2206),f=i(92),g=i(7294),p=i(1163),b=i(7179),x=i(1872),y=i(340);r.Z=()=>{let[e,r]=(0,g.useState)(""),[i,v]=(0,g.useState)(""),[j,w]=(0,g.useState)(!1),{signIn:S,signInWithGoogle:I}=(0,b.a)(),F=(0,p.useRouter)(),_=(0,s.p)(),handleSubmit=async r=>{r.preventDefault(),w(!0);try{if(!e||!i)throw Error("Please enter both email and password");console.log("SignInForm: Attempting login with email:",e);let r=await S(e,i);if(!r.user)throw Error("No user data received");if(!r.user.emailVerified){_({title:"Email not verified",description:"Please check your email for verification link",status:"warning",duration:5e3,isClosable:!0});return}console.log("SignInForm: Login successful, user:",r.user.email),_({title:"Success!",description:"You have been successfully signed in.",status:"success",duration:5e3,isClosable:!0}),F.push("/dashboard")}catch(r){console.error("SignInForm: Login error:",r);let e="Failed to sign in";if(r.code)switch(r.code){case"auth/invalid-email":e="Invalid email address";break;case"auth/user-disabled":e="This account has been disabled";break;case"auth/user-not-found":e="No account found with this email";break;case"auth/wrong-password":e="Incorrect password";break;case"auth/too-many-requests":e="Too many failed attempts. Please try again later";break;case"auth/operation-not-allowed":e="This sign-in method is not enabled. Please contact support.";break;default:e=r.message||"Failed to sign in"}_({title:"Error",description:e,status:"error",duration:5e3,isClosable:!0})}finally{w(!1)}},handleGoogleSignIn=async()=>{w(!0);try{console.log("SignInForm: Attempting Google sign in");let e=await I();console.log("SignInForm: Google sign in successful, user:",e.user.email),_({title:"Success!",description:"You have been successfully signed in with Google.",status:"success",duration:5e3,isClosable:!0}),F.push("/dashboard")}catch(r){console.error("SignInForm: Google sign in error:",r);let e=r.message||"Failed to sign in with Google";"auth/operation-not-allowed"===r.code&&(e="Google sign-in is not enabled. Please contact support."),_({title:"Error",description:e,status:"error",duration:5e3,isClosable:!0})}finally{w(!1)}},k=(0,n.ff)("white","gray.700"),C=(0,n.ff)("gray.200","gray.600");return(0,t.jsx)(a.x,{as:"form",onSubmit:handleSubmit,width:"100%",maxW:"400px",bg:k,p:8,borderRadius:"lg",boxShadow:"lg",border:"1px solid",borderColor:C,children:(0,t.jsxs)(o.g,{spacing:6,children:[(0,t.jsx)(l.z,{leftIcon:(0,t.jsx)(x.JM8,{}),w:"100%",onClick:handleGoogleSignIn,isLoading:j,mb:4,variant:"outline",_hover:{bg:"gray.50"},isDisabled:j,children:"Sign in with Google"}),(0,t.jsx)(d.i,{}),(0,t.jsxs)(c.K,{spacing:4,width:"100%",children:[(0,t.jsxs)(u.NI,{id:"email",isRequired:!0,children:[(0,t.jsx)(h.l,{children:"Email address"}),(0,t.jsx)(m.I,{type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"Enter your email",isDisabled:j})]}),(0,t.jsxs)(u.NI,{id:"password",isRequired:!0,children:[(0,t.jsx)(h.l,{children:"Password"}),(0,t.jsx)(m.I,{type:"password",value:i,onChange:e=>v(e.target.value),placeholder:"Enter your password",isDisabled:j})]}),(0,t.jsx)(l.z,{type:"submit",colorScheme:"blue",width:"100%",isLoading:j,isDisabled:j,children:"Sign In"})]}),(0,t.jsxs)(f.x,{fontSize:"sm",color:"gray.500",textAlign:"center",children:["Don't have an account?"," ",(0,t.jsx)(y.Z,{href:"/signup",color:"blue.400",children:"Sign up"})]}),(0,t.jsx)(y.Z,{href:"/forgot-password",color:"blue.400",children:"Forgot Password?"})]})})}},2191:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return SignIn}});var t=i(5893),s=i(1046),n=i(8029),a=i(6254),o=i(8186),l=i(232),d=i(92),c=i(5675),u=i(2941),h=i(9008),m=i.n(h);function SignIn(){let e=(0,s.ff)("gray.50","gray.900");return(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(m(),{children:(0,t.jsx)("title",{children:"Sign In - OmniSec Live"})}),(0,t.jsx)(n.x,{minH:"100vh",bg:e,py:20,children:(0,t.jsx)(a.W,{maxW:"lg",children:(0,t.jsxs)(o.g,{spacing:8,align:"center",children:[(0,t.jsxs)(o.g,{spacing:2,textAlign:"center",children:[(0,t.jsx)(l.X,{size:"xl",children:"Welcome Back"}),(0,t.jsx)(d.x,{color:"gray.500",children:"Sign in to access your security dashboard"})]}),(0,t.jsx)(c.Z,{})]})})})]})}},9008:function(e,r,i){e.exports=i(9201)},5715:function(e,r,i){"use strict";i.d(r,{M:function(){return a}});var t=i(5893),s=i(7430),n=i(9381);let a=(0,s.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});a.displayName="Center";let o={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,n.G)(function(e,r){let{axis:i="both",...n}=e;return(0,t.jsx)(s.m.div,{ref:r,__css:o[i],...n,position:"absolute"})})},4831:function(e,r,i){"use strict";i.d(r,{i:function(){return d}});var t=i(5893),s=i(5544),n=i(4926),a=i(9381),o=i(6158),l=i(7430);let d=(0,a.G)(function(e,r){let{borderLeftWidth:i,borderBottomWidth:a,borderTopWidth:d,borderRightWidth:c,borderWidth:u,borderStyle:h,borderColor:m,...f}=(0,o.m)("Divider",e),{className:g,orientation:p="horizontal",__css:b,...x}=(0,s.L)(e);return(0,t.jsx)(l.m.hr,{ref:r,"aria-orientation":p,...x,__css:{...f,border:"0",borderColor:m,borderStyle:h,...{vertical:{borderLeftWidth:i||c||u||"1px",height:"100%"},horizontal:{borderBottomWidth:a||d||u||"1px",width:"100%"}}[p],...b},className:(0,n.cx)("chakra-divider",g)})});d.displayName="Divider"},4506:function(e,r,i){"use strict";i.d(r,{NI:function(){return b},NJ:function(){return p},e:function(){return f}});var t=i(5893),s=i(9062),n=i(5544),a=i(2110),o=i(397),l=i(4926),d=i(7294),c=i(9381),u=i(6158),h=i(7430);let[m,f]=(0,a.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[g,p]=(0,a.k)({strict:!1,name:"FormControlContext"}),b=(0,c.G)(function(e,r){let i=(0,u.j)("Form",e),a=(0,n.L)(e),{getRootProps:c,htmlProps:f,...p}=function(e){let{id:r,isRequired:i,isInvalid:t,isDisabled:n,isReadOnly:a,...l}=e,c=(0,d.useId)(),u=r||`field-${c}`,h=`${u}-label`,m=`${u}-feedback`,f=`${u}-helptext`,[g,p]=(0,d.useState)(!1),[b,x]=(0,d.useState)(!1),[y,v]=(0,d.useState)(!1),j=(0,d.useCallback)((e={},r=null)=>({id:f,...e,ref:(0,s.lq)(r,e=>{e&&x(!0)})}),[f]),w=(0,d.useCallback)((e={},r=null)=>({...e,ref:r,"data-focus":(0,o.P)(y),"data-disabled":(0,o.P)(n),"data-invalid":(0,o.P)(t),"data-readonly":(0,o.P)(a),id:void 0!==e.id?e.id:h,htmlFor:void 0!==e.htmlFor?e.htmlFor:u}),[u,n,y,t,a,h]),S=(0,d.useCallback)((e={},r=null)=>({id:m,...e,ref:(0,s.lq)(r,e=>{e&&p(!0)}),"aria-live":"polite"}),[m]),I=(0,d.useCallback)((e={},r=null)=>({...e,...l,ref:r,role:"group","data-focus":(0,o.P)(y),"data-disabled":(0,o.P)(n),"data-invalid":(0,o.P)(t),"data-readonly":(0,o.P)(a)}),[l,n,y,t,a]),F=(0,d.useCallback)((e={},r=null)=>({...e,ref:r,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!i,isInvalid:!!t,isReadOnly:!!a,isDisabled:!!n,isFocused:!!y,onFocus:()=>v(!0),onBlur:()=>v(!1),hasFeedbackText:g,setHasFeedbackText:p,hasHelpText:b,setHasHelpText:x,id:u,labelId:h,feedbackId:m,helpTextId:f,htmlProps:l,getHelpTextProps:j,getErrorMessageProps:S,getRootProps:I,getLabelProps:w,getRequiredIndicatorProps:F}}(a),b=(0,l.cx)("chakra-form-control",e.className);return(0,t.jsx)(g,{value:p,children:(0,t.jsx)(m,{value:i,children:(0,t.jsx)(h.m.div,{...c({},r),className:b,__css:i.container})})})});b.displayName="FormControl";let x=(0,c.G)(function(e,r){let i=p(),s=f(),n=(0,l.cx)("chakra-form__helper-text",e.className);return(0,t.jsx)(h.m.div,{...i?.getHelpTextProps(e,r),__css:s.helperText,className:n})});x.displayName="FormHelperText"},980:function(e,r,i){"use strict";i.d(r,{l:function(){return c}});var t=i(5893),s=i(5544),n=i(4926),a=i(4506),o=i(9381),l=i(6158),d=i(7430);let c=(0,o.G)(function(e,r){let i=(0,l.m)("FormLabel",e),o=(0,s.L)(e),{className:c,children:h,requiredIndicator:m=(0,t.jsx)(u,{}),optionalIndicator:f=null,...g}=o,p=(0,a.NJ)(),b=p?.getLabelProps(g,r)??{ref:r,...g};return(0,t.jsxs)(d.m.label,{...b,className:(0,n.cx)("chakra-form__label",o.className),__css:{display:"block",textAlign:"start",...i},children:[h,p?.isRequired?m:f]})});c.displayName="FormLabel";let u=(0,o.G)(function(e,r){let i=(0,a.NJ)(),s=(0,a.e)();if(!i?.isRequired)return null;let o=(0,n.cx)("chakra-form__required-indicator",e.className);return(0,t.jsx)(d.m.span,{...i?.getRequiredIndicatorProps(e,r),__css:s.requiredIndicator,className:o})});u.displayName="RequiredIndicator"},6013:function(e,r,i){"use strict";i.d(r,{K:function(){return useFormControlProps},Y:function(){return useFormControl}});var t=i(397),s=i(8928),n=i(4506);function useFormControl(e){let{isDisabled:r,isInvalid:i,isReadOnly:s,isRequired:n,...a}=useFormControlProps(e);return{...a,disabled:r,readOnly:s,required:n,"aria-invalid":(0,t.Q)(i),"aria-required":(0,t.Q)(n),"aria-readonly":(0,t.Q)(s)}}function useFormControlProps(e){let r=(0,n.NJ)(),{id:i,disabled:t,readOnly:a,required:o,isRequired:l,isInvalid:d,isReadOnly:c,isDisabled:u,onFocus:h,onBlur:m,...f}=e,g=e["aria-describedby"]?[e["aria-describedby"]]:[];return r?.hasFeedbackText&&r?.isInvalid&&g.push(r.feedbackId),r?.hasHelpText&&g.push(r.helpTextId),{...f,"aria-describedby":g.join(" ")||void 0,id:i??r?.id,isDisabled:t??u??r?.isDisabled,isReadOnly:a??c??r?.isReadOnly,isRequired:o??l??r?.isRequired,isInvalid:d??r?.isInvalid,onFocus:(0,s.v)(r?.onFocus,h),onBlur:(0,s.v)(r?.onBlur,m)}}},2206:function(e,r,i){"use strict";i.d(r,{I:function(){return c}});var t=i(5893),s=i(5544),n=i(4926),a=i(6013),o=i(9381),l=i(6158),d=i(7430);let c=(0,o.G)(function(e,r){let{htmlSize:i,...o}=e,c=(0,l.j)("Input",o),u=(0,s.L)(o),h=(0,a.Y)(u),m=(0,n.cx)("chakra-input",e.className);return(0,t.jsx)(d.m.input,{size:i,...h,__css:c.field,ref:r,className:m})});c.displayName="Input",c.id="Input"}},function(e){e.O(0,[994,774,888,179],function(){return e(e.s=4758)}),_N_E=e.O()}]);